import{g as ne,b as oe,c as De,d as ee,r as S,e as me,f as ye,j as n,s as Q,h as te,i as ae,k as se,T as N,m as Ie,n as Ee,o as Ue,L as Ce,p as Lt,q as At,t as Ge,v as Pt,w as q,S as de,B as fe,G as A,M as ve,x as Rt,y as $e,z as Le,A as Ft,D as et,E as _e,F as Nt,H as tt,R as ge,I as Vt,u as Et,J as We,K as ke,N as Te,O as Bt,Q as $t,U as _t,V as Ot}from"./index-3TtWpvP2.js";import{B as rt,L as at,c as zt,A as Me}from"./LineChart-BbWfdvZA.js";import{B as Ye}from"./Button-mOA-xCVY.js";import{T as Ut}from"./TextField-yUBhfeYA.js";import{M as Gt}from"./MenuItem-BqF2Cxui.js";import{T as Wt,a as Yt,b as Be,c as pe,d as Ht}from"./TableRow-MAD580Pe.js";import{t as qt}from"./transactionShape-GJ30zwZA.js";function Kt(e){return oe("MuiLink",e)}const Jt=ne("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Xt=({theme:e,ownerState:t})=>{const r=t.color,a=De(e,`palette.${r}.main`,!1)||De(e,`palette.${r}`,!1)||t.color,o=De(e,`palette.${r}.mainChannel`)||De(e,`palette.${r}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:ee(a,.4)},He={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Zt=e=>{const{classes:t,component:r,focusVisible:a,underline:o}=e,i={root:["root",`underline${ae(o)}`,r==="button"&&"button",a&&"focusVisible"]};return se(i,Kt,t)},Qt=Q(N,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${ae(r.underline)}`],r.component==="button"&&t.button]}})(Ie(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:r})=>t==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(Ee()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:ee(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:ee(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:ee(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Jt.focusVisible}`]:{outline:"auto"}}}]}))),er=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiLink"}),o=ye(),{className:i,color:s="primary",component:l="a",onBlur:u,onFocus:c,TypographyClasses:f,underline:g="always",variant:b="inherit",sx:m,...d}=a,[I,x]=S.useState(!1),h=T=>{Ue(T.target)||x(!1),u&&u(T)},w=T=>{Ue(T.target)&&x(!0),c&&c(T)},k={...a,color:s,component:l,focusVisible:I,underline:g,variant:b},P=Zt(k);return n.jsx(Qt,{color:s,className:te(P.root,i),classes:f,component:l,onBlur:h,onFocus:w,ref:r,ownerState:k,variant:b,...d,sx:[...He[s]===void 0?[{color:s}]:[],...Array.isArray(m)?m:[m]],style:{...d.style,...g==="always"&&s!=="inherit"&&!He[s]&&{"--Link-underlineColor":Xt({theme:o,ownerState:k})}}})});function tr(e){return oe("MuiListItem",e)}ne("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function rr(e){return oe("MuiListItemSecondaryAction",e)}ne("MuiListItemSecondaryAction",["root","disableGutters"]);const ar=e=>{const{disableGutters:t,classes:r}=e;return se({root:["root",t&&"disableGutters"]},rr,r)},nr=Q("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),nt=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiListItemSecondaryAction"}),{className:o,...i}=a,s=S.useContext(Ce),l={...a,disableGutters:s.disableGutters},u=ar(l);return n.jsx(nr,{className:te(u.root,o),ownerState:l,ref:r,...i})});nt.muiName="ListItemSecondaryAction";const or=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.hasSecondaryAction&&t.secondaryAction]},sr=e=>{const{alignItems:t,classes:r,dense:a,disableGutters:o,disablePadding:i,divider:s,hasSecondaryAction:l}=e;return se({root:["root",a&&"dense",!o&&"gutters",!i&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},tr,r)},ir=Q("div",{name:"MuiListItem",slot:"Root",overridesResolver:or})(Ie(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Pt.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),lr=Q("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),cr=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiListItem"}),{alignItems:o="center",children:i,className:s,component:l,components:u={},componentsProps:c={},ContainerComponent:f="li",ContainerProps:{className:g,...b}={},dense:m=!1,disableGutters:d=!1,disablePadding:I=!1,divider:x=!1,secondaryAction:h,slotProps:w={},slots:k={},...P}=a,T=S.useContext(Ce),U=S.useMemo(()=>({dense:m||T.dense||!1,alignItems:o,disableGutters:d}),[o,T.dense,m,d]),J=S.useRef(null),D=S.Children.toArray(i),E=D.length&&Lt(D[D.length-1],["ListItemSecondaryAction"]),G={...a,alignItems:o,dense:U.dense,disableGutters:d,disablePadding:I,divider:x,hasSecondaryAction:E},K=sr(G),B=At(J,r),Y=k.root||u.Root||ir,O=w.root||c.root||{},H={className:te(K.root,O.className,s),...P};let y=l||"li";return E?(y=!H.component&&!l?"div":y,f==="li"&&(y==="li"?y="div":H.component==="li"&&(H.component="div")),n.jsx(Ce.Provider,{value:U,children:n.jsxs(lr,{as:f,className:te(K.container,g),ref:B,ownerState:G,...b,children:[n.jsx(Y,{...O,...!Ge(Y)&&{as:y,ownerState:{...G,...O.ownerState}},...H,children:D}),D.pop()]})})):n.jsx(Ce.Provider,{value:U,children:n.jsxs(Y,{...O,as:y,ref:B,...!Ge(Y)&&{ownerState:{...G,...O.ownerState}},...H,children:[D,h&&n.jsx(nt,{children:h})]})})});function ur(e){return oe("MuiListItemAvatar",e)}ne("MuiListItemAvatar",["root","alignItemsFlexStart"]);const dr=e=>{const{alignItems:t,classes:r}=e;return se({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},ur,r)},fr=Q("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),mr=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiListItemAvatar"}),{className:o,...i}=a,s=S.useContext(Ce),l={...a,alignItems:s.alignItems},u=dr(l);return n.jsx(fr,{className:te(u.root,o),ownerState:l,ref:r,...i})}),pr=e=>{const t=new Date,r=new Date(t.getTime()-10080*60*1e3),a=t.getDay(),o=a===0?6:a-1,i=[0,0,0,0,0,0,0],s=["Mo","Tu","We","Th","Fr","Sa","Su"];e&&e.length>0&&e.forEach(c=>{const f=new Date(c.date_added*1e3),g=f>=r&&f<=t,b=c.transaction_status==="SUCCESS"||c.transaction_status==="COMPLETED"||c.transaction_status==="COMPLETE";if(g&&b){const m=f.getDay(),d=m===0?6:m-1;i[d]+=(c.amount||0)/100}});const l=[...s],u=[];for(let c=0;c<7;c++)c<=o?u.push(Math.round(i[c])):u.push(0);return{labels:l,data:u}};function ot({transactions:e=[]}){const t=ye(),r={fontSize:10,fill:t.palette.text.secondary},{labels:a,data:o}=S.useMemo(()=>pr(e),[e]);return n.jsx(rt,{hideLegend:!0,height:380,series:[{data:o,label:"Weekly Statistics"}],xAxis:[{data:a,scaleType:"band",disableLine:!0,disableTicks:!0,tickLabelStyle:r}],yAxis:[{position:"none"}],slotProps:{bar:{rx:5,ry:5}},axisHighlight:{x:"none"},margin:{left:20,right:20},colors:[t.palette.info.light],sx:{"& .MuiBarElement-root:hover":{opacity:.6}}})}ot.propTypes={transactions:q.array};const hr=e=>{const t=[0,0,0,0,0,0,0];if(!e||e.length===0)return t;const r=new Date,a=r.getMonth(),o=r.getFullYear();return e.forEach(i=>{const s=new Date(i.date_added*1e3),l=s.getMonth(),u=s.getFullYear();let c=(o-u)*12+(a-l);if(c>=0&&c<7){const f=6-c;t[f]+=1}}),t},gr=()=>{const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=new Date().getMonth(),a=[];for(let o=6;o>=0;o--){const i=(r-o+12)%12;a.push(e[i])}return a};function st({transactions:e=[]}){const t=ye(),r={fill:t.palette.text.secondary},a=S.useMemo(()=>hr(e),[e]),o=S.useMemo(()=>gr(),[]);return n.jsx(at,{hideLegend:!0,grid:{horizontal:!0},xAxis:[{data:o,scaleType:"point",disableLine:!0,disableTicks:!0,tickLabelStyle:r}],yAxis:[{position:"none",tickMaxStep:10}],series:[{data:a,showMark:!1,id:"ReportAreaChart",color:t.palette.warning.main,label:"Transactions"}],height:340,margin:{top:30,bottom:25,left:20,right:20},sx:{"& .MuiLineElement-root":{strokeWidth:1},[`& .${zt.line}`]:{strokeDasharray:"5 3"}}})}st.propTypes={transactions:q.array};const vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xr=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function it({items:e,onToggle:t}){return n.jsx(de,{direction:"row",sx:{gap:2,alignItems:"center",justifyContent:"center",mt:2.5,mb:1.5},children:e.map(r=>n.jsxs(de,{direction:"row",sx:{gap:1.25,alignItems:"center",cursor:"pointer"},onClick:()=>t(r.label),children:[n.jsx(fe,{sx:{width:12,height:12,bgcolor:r.visible?r.color:"grey.500",borderRadius:"50%"}}),n.jsx(N,{variant:"body2",color:"text.primary",children:r.label})]},r.label))})}const yr=e=>{const t=[0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0];if(!e||e.length===0)return{counts:t,amounts:r};const a=new Date,o=new Date(a.getTime()-10080*60*1e3);return e.forEach(i=>{const s=new Date(i.date_added*1e3);if(s>=o&&s<=a){const l=s.getDay(),u=l===0?6:l-1;t[u]+=1,r[u]+=i.amount||0}}),{counts:t,amounts:r}},br=e=>{const t=[0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0,0,0,0,0,0];if(!e||e.length===0)return{counts:t,amounts:r};const a=new Date().getFullYear();return e.forEach(o=>{const i=new Date(o.date_added*1e3);if(i.getFullYear()===a){const s=i.getMonth();t[s]+=1,r[s]+=o.amount||0}}),{counts:t,amounts:r}};function lt({view:e,transactions:t=[]}){const r=ye(),[a,o]=S.useState({"Transaction Count":!0,"Transaction Volume":!0}),i=S.useMemo(()=>e==="weekly"?yr(t):br(t),[e,t]),s=e==="monthly"?vr:xr,l=i.counts,u=i.amounts.map(m=>Math.round(m/100)),c=r.palette.divider,f=m=>{o(d=>({...d,[m]:!d[m]}))},g=[{data:l,label:"Transaction Count",showMark:!1,area:!0,id:"count",color:r.palette.primary.main||"",visible:a["Transaction Count"]},{data:u,label:"Transaction Volume",showMark:!1,area:!0,id:"volume",color:r.palette.primary[700]||"",visible:a["Transaction Volume"]}],b={fontSize:10,fill:r.palette.text.secondary};return n.jsxs(n.Fragment,{children:[n.jsx(at,{hideLegend:!0,grid:{horizontal:!0},xAxis:[{scaleType:"point",data:s,disableLine:!0,tickLabelStyle:b}],yAxis:[{disableLine:!0,disableTicks:!0,tickLabelStyle:b}],height:450,margin:{top:40,bottom:-5,right:20,left:5},series:g.filter(m=>m.visible).map(m=>({type:"line",data:m.data,label:m.label,showMark:m.showMark,area:m.area,id:m.id,color:m.color,stroke:m.color,strokeWidth:2})),sx:{"& .MuiAreaElement-series-count":{fill:"url('#myGradient1')",strokeWidth:2,opacity:.8},"& .MuiAreaElement-series-volume":{fill:"url('#myGradient2')",strokeWidth:2,opacity:.8},"& .MuiChartsAxis-directionX .MuiChartsAxis-tick":{stroke:c}},children:n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"myGradient1",gradientTransform:"rotate(90)",children:[n.jsx("stop",{offset:"10%",stopColor:ee(r.palette.primary.main,.4)}),n.jsx("stop",{offset:"90%",stopColor:ee(r.palette.background.default,.4)})]}),n.jsxs("linearGradient",{id:"myGradient2",gradientTransform:"rotate(90)",children:[n.jsx("stop",{offset:"10%",stopColor:ee(r.palette.primary[700],.4)}),n.jsx("stop",{offset:"90%",stopColor:ee(r.palette.background.default,.4)})]})]})}),n.jsx(it,{items:g,onToggle:f})]})}it.propTypes={items:q.array,onToggle:q.func};lt.propTypes={view:q.oneOf(["monthly","weekly"]),transactions:q.array};function ct({transactions:e}){const[t,r]=S.useState("monthly");return n.jsxs(n.Fragment,{children:[n.jsxs(A,{container:!0,alignItems:"center",justifyContent:"space-between",children:[n.jsx(A,{children:n.jsx(N,{variant:"h5",children:"Analytics"})}),n.jsx(A,{children:n.jsxs(de,{direction:"row",sx:{alignItems:"center"},children:[n.jsx(Ye,{size:"small",onClick:()=>r("monthly"),color:t==="monthly"?"primary":"secondary",variant:t==="monthly"?"outlined":"text",children:"Month"}),n.jsx(Ye,{size:"small",onClick:()=>r("weekly"),color:t==="weekly"?"primary":"secondary",variant:t==="weekly"?"outlined":"text",children:"Week"})]})})]}),n.jsx(ve,{content:!1,sx:{mt:1.5},children:n.jsx(fe,{sx:{pt:1,pr:2},children:n.jsx(lt,{view:t,transactions:e})})})]})}ct.propTypes={transactions:q.array};function Sr(e){return oe("PrivateSwitchBase",e)}ne("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Cr=e=>{const{classes:t,checked:r,disabled:a,edge:o}=e,i={root:["root",r&&"checked",a&&"disabled",o&&`edge${ae(o)}`],input:["input"]};return se(i,Sr,t)},wr=Q(Ft)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),jr=Q("input",{shouldForwardProp:et})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ir=S.forwardRef(function(t,r){const{autoFocus:a,checked:o,checkedIcon:i,defaultChecked:s,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:f,id:g,inputProps:b,inputRef:m,name:d,onBlur:I,onChange:x,onFocus:h,readOnly:w,required:k=!1,tabIndex:P,type:T,value:U,slots:J={},slotProps:D={},...E}=t,[G,K]=Rt({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),B=$e(),Y=_=>{h&&h(_),B&&B.onFocus&&B.onFocus(_)},O=_=>{I&&I(_),B&&B.onBlur&&B.onBlur(_)},H=_=>{if(_.nativeEvent.defaultPrevented)return;const X=_.target.checked;K(X),x&&x(_,X)};let y=l;B&&typeof y>"u"&&(y=B.disabled);const C=T==="checkbox"||T==="radio",M={...t,checked:G,disabled:y,disableFocusRipple:u,edge:c},$=Cr(M),z={slots:J,slotProps:{input:b,...D}},[V,W]=Le("root",{ref:r,elementType:wr,className:$.root,shouldForwardComponentProp:!0,externalForwardedProps:{...z,component:"span",...E},getSlotProps:_=>({..._,onFocus:X=>{_.onFocus?.(X),Y(X)},onBlur:X=>{_.onBlur?.(X),O(X)}}),ownerState:M,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:y,role:void 0,tabIndex:null}}),[ie,be]=Le("input",{ref:m,elementType:jr,className:$.input,externalForwardedProps:z,getSlotProps:_=>({..._,onChange:X=>{_.onChange?.(X),H(X)}}),ownerState:M,additionalProps:{autoFocus:a,checked:o,defaultChecked:s,disabled:y,id:C?g:void 0,name:d,readOnly:w,required:k,tabIndex:P,type:T,...T==="checkbox"&&U===void 0?{}:{value:U}}});return n.jsxs(V,{...W,children:[n.jsx(ie,{...be}),G?i:f]})}),Dr=_e(n.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),kr=_e(n.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Tr=_e(n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Mr(e){return oe("MuiCheckbox",e)}const Ne=ne("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Lr=e=>{const{classes:t,indeterminate:r,color:a,size:o}=e,i={root:["root",r&&"indeterminate",`color${ae(a)}`,`size${ae(o)}`]},s=se(i,Mr,t);return{...t,...s}},Ar=Q(Ir,{shouldForwardProp:e=>et(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${ae(r.size)}`],r.color!=="default"&&t[`color${ae(r.color)}`]]}})(Ie(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ee(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Ee()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ee(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Ee()).map(([t])=>({props:{color:t},style:{[`&.${Ne.checked}, &.${Ne.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${Ne.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Pr=n.jsx(kr,{}),Rr=n.jsx(Dr,{}),Fr=n.jsx(Tr,{}),qe=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiCheckbox"}),{checkedIcon:o=Pr,color:i="primary",icon:s=Rr,indeterminate:l=!1,indeterminateIcon:u=Fr,inputProps:c,size:f="medium",disableRipple:g=!1,className:b,slots:m={},slotProps:d={},...I}=a,x=l?u:s,h=l?u:o,w={...a,disableRipple:g,color:i,indeterminate:l,size:f},k=Lr(w),P=d.input??c,[T,U]=Le("root",{ref:r,elementType:Ar,className:te(k.root,b),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:d,...I},ownerState:w,additionalProps:{type:"checkbox",icon:S.cloneElement(x,{fontSize:x.props.fontSize??f}),checkedIcon:S.cloneElement(h,{fontSize:h.props.fontSize??f}),disableRipple:g,slots:m,slotProps:{input:Nt(typeof P=="function"?P(w):P,{"data-indeterminate":l})}}});return n.jsx(T,{...U,classes:k})});function Nr(e){return oe("MuiFormControlLabel",e)}const Se=ne("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Vr=e=>{const{classes:t,disabled:r,labelPlacement:a,error:o,required:i}=e,s={root:["root",r&&"disabled",`labelPlacement${ae(a)}`,o&&"error",i&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",o&&"error"]};return se(s,Nr,t)},Er=Q("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Se.label}`]:t.label},t.root,t[`labelPlacement${ae(r.labelPlacement)}`]]}})(Ie(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Se.disabled}`]:{cursor:"default"},[`& .${Se.label}`]:{[`&.${Se.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),Br=Q("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Ie(({theme:e})=>({[`&.${Se.error}`]:{color:(e.vars||e).palette.error.main}}))),Ke=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiFormControlLabel"}),{checked:o,className:i,componentsProps:s={},control:l,disabled:u,disableTypography:c,inputRef:f,label:g,labelPlacement:b="end",name:m,onChange:d,required:I,slots:x={},slotProps:h={},value:w,...k}=a,P=$e(),T=u??l.props.disabled??P?.disabled,U=I??l.props.required,J={disabled:T,required:U};["checked","name","onChange","value","inputRef"].forEach(H=>{typeof l.props[H]>"u"&&typeof a[H]<"u"&&(J[H]=a[H])});const D=tt({props:a,muiFormControl:P,states:["error"]}),E={...a,disabled:T,labelPlacement:b,required:U,error:D.error},G=Vr(E),K={slots:x,slotProps:{...s,...h}},[B,Y]=Le("typography",{elementType:N,externalForwardedProps:K,ownerState:E});let O=g;return O!=null&&O.type!==N&&!c&&(O=n.jsx(B,{component:"span",...Y,className:te(G.label,Y?.className),children:O})),n.jsxs(Er,{className:te(G.root,i),ownerState:E,ref:r,...k,children:[S.cloneElement(l,J),U?n.jsxs("div",{children:[O,n.jsxs(Br,{ownerState:E,"aria-hidden":!0,className:G.asterisk,children:["â€‰","*"]})]}):O]})});function $r(e){return oe("MuiFormGroup",e)}ne("MuiFormGroup",["root","row","error"]);const _r=e=>{const{classes:t,row:r,error:a}=e;return se({root:["root",r&&"row",a&&"error"]},$r,t)},Or=Q("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),zr=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiFormGroup"}),{className:o,row:i=!1,...s}=a,l=$e(),u=tt({props:a,muiFormControl:l,states:["error"]}),c={...a,row:i,error:u.error},f=_r(c);return n.jsx(Or,{className:te(f.root,o),ownerState:c,ref:r,...s})}),Ur=(e,t)=>{const r=new Array(12).fill(0),a=new Array(12).fill(0);if(!e||e.length===0)return{successfulData:r,pendingData:a};const o=new Date,i=o.getFullYear();return e.forEach(s=>{const l=new Date(s.date_added*1e3);if(t==="today"){const f=new Date;if(f.setHours(0,0,0,0),l<f)return}else if(t==="month"){const f=o.getMonth(),g=o.getFullYear();if(l.getMonth()!==f||l.getFullYear()!==g)return}else if(t==="year"&&l.getFullYear()!==i)return;const u=l.getMonth(),c=s.transaction_status;c==="SUCCESS"||c==="COMPLETED"||c==="COMPLETE"?r[u]+=(s.amount||0)/1e3:c==="PENDING"&&(a[u]+=(s.amount||0)/1e3)}),{successfulData:r.map(s=>Math.round(s)),pendingData:a.map(s=>Math.round(s))}},Gr=(e,t)=>{if(!e||e.length===0)return 0;const r=new Date;let a=e;if(t==="today"){const s=new Date;s.setHours(0,0,0,0),a=e.filter(l=>new Date(l.date_added*1e3)>=s)}else if(t==="month"){const s=r.getMonth(),l=r.getFullYear();a=e.filter(u=>{const c=new Date(u.date_added*1e3);return c.getMonth()===s&&c.getFullYear()===l})}else if(t==="year"){const s=r.getFullYear();a=e.filter(l=>new Date(l.date_added*1e3).getFullYear()===s)}const o=a.filter(s=>s.transaction_status==="SUCCESS"||s.transaction_status==="COMPLETED"||s.transaction_status==="COMPLETE").reduce((s,l)=>s+(l.amount||0),0),i=a.filter(s=>s.transaction_status==="PENDING").reduce((s,l)=>s+(l.amount||0),0);return o-i};function ut({transactions:e=[],period:t="year"}){const r=ye(),[a,o]=S.useState(!0),[i,s]=S.useState(!0),l=()=>{o(!a)},u=()=>{s(!i)},c=w=>`$ ${w} Thousands`,f=r.palette.success.main,g=r.palette.warning.main,b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],{successfulData:m,pendingData:d}=S.useMemo(()=>Ur(e,t),[e,t]),I=S.useMemo(()=>Gr(e,t),[e,t]),x=[{data:m,label:"Successful",color:f,valueFormatter:c},{data:d,label:"Pending",color:g,valueFormatter:c}],h={fontSize:10,fill:r.palette.text.secondary};return n.jsx(ve,{sx:{mt:1},content:!1,children:n.jsxs(fe,{sx:{p:2.5,pb:0},children:[n.jsxs(de,{direction:"row",sx:{alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(fe,{children:[n.jsx(N,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Net Profit"}),n.jsxs(N,{variant:"h4",children:["$",I.toLocaleString()]})]}),n.jsx(zr,{children:n.jsxs(de,{direction:"row",children:[n.jsx(Ke,{control:n.jsx(qe,{checked:a,onChange:l,sx:{"&.Mui-checked":{color:f},"&:hover":{backgroundColor:ee(f,.08)}}}),label:"Successful"}),n.jsx(Ke,{control:n.jsx(qe,{checked:i,onChange:u,sx:{"&.Mui-checked":{color:g}}}),label:"Pending"})]})})]}),n.jsx(rt,{hideLegend:!0,height:380,grid:{horizontal:!0},xAxis:[{id:"sales-x-axis",data:b,scaleType:"band",tickLabelStyle:{...h,fontSize:12}}],yAxis:[{position:"none"}],series:x.filter(w=>w.label==="Successful"&&a||w.label==="Pending"&&i).map(w=>({...w,type:"bar"})),slotProps:{bar:{rx:5,ry:5},tooltip:{trigger:"item"}},axisHighlight:{x:"none",y:"none"},margin:{top:30,left:10,bottom:25,right:10},sx:{"& .MuiBarElement-root:hover":{opacity:.6},"& .MuiChartsAxis-directionX .MuiChartsAxis-tick, & .MuiChartsAxis-root line":{stroke:r.palette.divider}}})]})})}ut.propTypes={transactions:q.array,period:q.oneOf(["today","month","year"])};const Wr=[{value:"today",label:"Today"},{value:"month",label:"This Month"},{value:"year",label:"This Year"}];function dt({transactions:e=[]}){const[t,r]=S.useState("year");return n.jsxs(n.Fragment,{children:[n.jsxs(A,{container:!0,alignItems:"center",justifyContent:"space-between",children:[n.jsx(A,{children:n.jsx(N,{variant:"h5",children:"Sales Report"})}),n.jsx(A,{children:n.jsx(Ut,{id:"standard-select-currency",size:"small",select:!0,value:t,onChange:a=>r(a.target.value),sx:{"& .MuiInputBase-input":{py:.75,fontSize:"0.875rem"}},children:Wr.map(a=>n.jsx(Gt,{value:a.value,children:a.label},a.value))})})]}),n.jsx(ut,{transactions:e,period:t})]})}dt.propTypes={transactions:q.array};function Yr(e){return oe("MuiTableContainer",e)}ne("MuiTableContainer",["root"]);const Hr=e=>{const{classes:t}=e;return se({root:["root"]},Yr,t)},qr=Q("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Kr=S.forwardRef(function(t,r){const a=me({props:t,name:"MuiTableContainer"}),{className:o,component:i="div",...s}=a,l={...a,component:i},u=Hr(l);return n.jsx(qr,{ref:r,as:i,className:te(u.root,o),ownerState:l,...s})});function ft(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}var we;(function(e){e.event="event",e.props="prop"})(we||(we={}));function ue(){}function Jr(e){var t,r=void 0;return function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return t&&a.length===t.length&&a.every(function(i,s){return i===t[s]})||(t=a,r=e.apply(void 0,a)),r}}function je(e){return!!(e||"").match(/\d/)}function xe(e){return e==null}function Xr(e){return typeof e=="number"&&isNaN(e)}function mt(e){return xe(e)||Xr(e)||typeof e=="number"&&!isFinite(e)}function pt(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Zr(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Qr(e,t,r){var a=Zr(r),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(a,"$1"+t)}function ea(e){var t=S.useRef(e);t.current=e;var r=S.useRef(function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return t.current.apply(t,a)});return r.current}function Oe(e,t){t===void 0&&(t=!0);var r=e[0]==="-",a=r&&t;e=e.replace("-","");var o=e.split("."),i=o[0],s=o[1]||"";return{beforeDecimal:i,afterDecimal:s,hasNegation:r,addNegation:a}}function ta(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),a=r[0].replace(/^0+/,"")||"0",o=r[1]||"";return(t?"-":"")+a+(o?"."+o:"")}function ht(e,t,r){for(var a="",o=r?"0":"",i=0;i<=t-1;i++)a+=e[i]||o;return a}function Je(e,t){return Array(t+1).join(e)}function gt(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var a=t.split(/[eE]/g),o=a[0],i=a[1];if(i=Number(i),!i)return r+o;o=o.replace(".","");var s=1+i,l=o.length;return s<0?o="0."+Je("0",Math.abs(s))+o:s>=l?o=o+Je("0",s-l):o=(o.substring(0,s)||"0")+"."+o.substring(s),r+o}function Xe(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var a=(e.indexOf(".")!==-1||r)&&t,o=Oe(e),i=o.beforeDecimal,s=o.afterDecimal,l=o.hasNegation,u=parseFloat("0."+(s||"0")),c=s.length<=t?"0."+s:u.toFixed(t),f=c.split("."),g=i;i&&Number(f[0])&&(g=i.split("").reverse().reduce(function(I,x,h){return I.length>h?(Number(I[0])+Number(x)).toString()+I.substring(1,I.length):x+I},f[0]));var b=ht(f[1]||"",t,r),m=l?"-":"",d=a?".":"";return""+m+g+d+b}function he(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var vt=Jr(function(e,t){for(var r=0,a=0,o=e.length,i=t.length;e[r]===t[r]&&r<o;)r++;for(;e[o-1-a]===t[i-1-a]&&i-a>r&&o-a>r;)a++;return{from:{start:r,end:o-a},to:{start:r,end:i-a}}}),ra=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function aa(e,t,r){return Math.min(Math.max(e,t),r)}function Ve(e){return Math.max(e.selectionStart,e.selectionEnd)}function na(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function oa(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function sa(e){var t=e.currentValue,r=e.formattedValue,a=e.currentValueIndex,o=e.formattedValueIndex;return t[a]===r[o]}function ia(e,t,r,a,o,i,s){s===void 0&&(s=sa);var l=o.findIndex(function(P){return P}),u=e.slice(0,l);!t&&!r.startsWith(u)&&(t=u,r=u+r,a=a+u.length);for(var c=r.length,f=e.length,g={},b=new Array(c),m=0;m<c;m++){b[m]=-1;for(var d=0,I=f;d<I;d++){var x=s({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:m,formattedValueIndex:d});if(x&&g[d]!==!0){b[m]=d,g[d]=!0;break}}}for(var h=a;h<c&&(b[h]===-1||!i(r[h]));)h++;var w=h===c||b[h]===-1?f:b[h];for(h=a-1;h>0&&b[h]===-1;)h--;var k=h===-1||b[h]===-1?0:b[h]+1;return k>w?w:a-k<w-a?k:w}function Ze(e,t,r,a){var o=e.length;if(t=aa(t,0,o),a==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=o&&!r[t];)t++;t>o&&(t=r.lastIndexOf(!0))}return t===-1&&(t=o),t}function la(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,a=t.length;r<a;r++)t[r]=!!(je(e[r])||je(e[r-1]));return t}function xt(e,t,r,a,o,i){i===void 0&&(i=ue);var s=ea(function(d,I){var x,h;return mt(d)?(h="",x=""):typeof d=="number"||I?(h=typeof d=="number"?gt(d):d,x=a(h)):(h=o(d,void 0),x=a(h)),{formattedValue:x,numAsString:h}}),l=S.useState(function(){return s(xe(e)?t:e,r)}),u=l[0],c=l[1],f=function(d,I){d.formattedValue!==u.formattedValue&&c({formattedValue:d.formattedValue,numAsString:d.value}),i(d,I)},g=e,b=r;xe(e)&&(g=u.numAsString,b=!0);var m=s(g,b);return S.useMemo(function(){c(m)},[m.formattedValue]),[u,f]}function ca(e){return e.replace(/[^0-9]/g,"")}function ua(e){return e}function da(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var a=e.customInput,o=e.renderText,i=e.getInputRef,s=e.format;s===void 0&&(s=ua);var l=e.removeFormatting;l===void 0&&(l=ca);var u=e.defaultValue,c=e.valueIsNumericString,f=e.onValueChange,g=e.isAllowed,b=e.onChange;b===void 0&&(b=ue);var m=e.onKeyDown;m===void 0&&(m=ue);var d=e.onMouseUp;d===void 0&&(d=ue);var I=e.onFocus;I===void 0&&(I=ue);var x=e.onBlur;x===void 0&&(x=ue);var h=e.value,w=e.getCaretBoundary;w===void 0&&(w=la);var k=e.isValidInputCharacter;k===void 0&&(k=je);var P=e.isCharacterSame,T=ft(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),U=xt(h,u,!!c,s,l,f),J=U[0],D=J.formattedValue,E=J.numAsString,G=U[1],K=S.useRef(),B=S.useRef({formattedValue:D,numAsString:E}),Y=function(p,v){B.current={formattedValue:p.formattedValue,numAsString:p.value},G(p,v)},O=S.useState(!1),H=O[0],y=O[1],C=S.useRef(null),M=S.useRef({setCaretTimeout:null,focusTimeout:null});S.useEffect(function(){return y(!0),function(){clearTimeout(M.current.setCaretTimeout),clearTimeout(M.current.focusTimeout)}},[]);var $=s,z=function(p,v){var j=parseFloat(v);return{formattedValue:p,value:v,floatValue:isNaN(j)?void 0:j}},V=function(p,v,j){p.selectionStart===0&&p.selectionEnd===p.value.length||(he(p,v),M.current.setCaretTimeout=setTimeout(function(){p.value===j&&p.selectionStart!==v&&he(p,v)},0))},W=function(p,v,j){return Ze(p,v,w(p),j)},ie=function(p,v,j){var R=w(v),Z=ia(v,D,p,j,R,k,P);return Z=Ze(v,Z,R),Z},be=function(p){var v=p.formattedValue;v===void 0&&(v="");var j=p.input,R=p.source,Z=p.event,F=p.numAsString,L;if(j){var re=p.inputValue||j.value,le=Ve(j);j.value=v,L=ie(re,v,le),L!==void 0&&V(j,L,v)}v!==D&&Y(z(v,F),{event:Z,source:R})};S.useEffect(function(){var p=B.current,v=p.formattedValue,j=p.numAsString;(D!==v||E!==j)&&Y(z(D,E),{event:void 0,source:we.props})},[D,E]);var _=C.current?Ve(C.current):void 0,X=typeof window<"u"?S.useLayoutEffect:S.useEffect;X(function(){var p=C.current;if(D!==B.current.formattedValue&&p){var v=ie(B.current.formattedValue,D,_);p.value=D,V(p,v,D)}},[D]);var Pe=function(p,v,j){var R=v.target,Z=K.current?ra(K.current,R.selectionEnd):vt(D,p),F=Object.assign(Object.assign({},Z),{lastValue:D}),L=l(p,F),re=$(L);if(L=l(re,void 0),g&&!g(z(re,L))){var le=v.target,ce=Ve(le),Fe=ie(p,D,ce);return le.value=D,V(le,Fe,D),!1}return be({formattedValue:re,numAsString:L,inputValue:p,event:v,source:j,input:v.target}),!0},Re=function(p,v){v===void 0&&(v=0);var j=p.selectionStart,R=p.selectionEnd;K.current={selectionStart:j,selectionEnd:R+v}},wt=function(p){var v=p.target,j=v.value,R=Pe(j,p,we.event);R&&b(p),K.current=void 0},jt=function(p){var v=p.target,j=p.key,R=v.selectionStart,Z=v.selectionEnd,F=v.value;F===void 0&&(F="");var L;j==="ArrowLeft"||j==="Backspace"?L=Math.max(R-1,0):j==="ArrowRight"?L=Math.min(R+1,F.length):j==="Delete"&&(L=R);var re=0;j==="Delete"&&R===Z&&(re=1);var le=j==="ArrowLeft"||j==="ArrowRight";if(L===void 0||R!==Z&&!le){m(p),Re(v,re);return}var ce=L;if(le){var Fe=j==="ArrowLeft"?"left":"right";ce=W(F,L,Fe),ce!==L&&p.preventDefault()}else j==="Delete"&&!k(F[L])?ce=W(F,L,"right"):j==="Backspace"&&!k(F[L])&&(ce=W(F,L,"left"));ce!==L&&V(v,ce,F),m(p),Re(v,re)},It=function(p){var v=p.target,j=function(){var R=v.selectionStart,Z=v.selectionEnd,F=v.value;if(F===void 0&&(F=""),R===Z){var L=W(F,R);L!==R&&V(v,L,F)}};j(),requestAnimationFrame(function(){j()}),d(p),Re(v)},Dt=function(p){p.persist&&p.persist();var v=p.target,j=p.currentTarget;C.current=v,M.current.focusTimeout=setTimeout(function(){var R=v.selectionStart,Z=v.selectionEnd,F=v.value;F===void 0&&(F="");var L=W(F,R);L!==R&&!(R===0&&Z===F.length)&&V(v,L,F),I(Object.assign(Object.assign({},p),{currentTarget:j}))},0)},kt=function(p){C.current=null,clearTimeout(M.current.focusTimeout),clearTimeout(M.current.setCaretTimeout),x(p)},Tt=H&&na()?"numeric":void 0,ze=Object.assign({inputMode:Tt},T,{type:t,value:D,onChange:wt,onKeyDown:jt,onMouseUp:It,onFocus:Dt,onBlur:kt});if(r==="text")return o?ge.createElement(ge.Fragment,null,o(D,T)||null):ge.createElement("span",Object.assign({},T,{ref:i}),D);if(a){var Mt=a;return ge.createElement(Mt,Object.assign({},ze,{ref:i}))}return ge.createElement("input",Object.assign({},ze,{ref:i}))}function Qe(e,t){var r=t.decimalScale,a=t.fixedDecimalScale,o=t.prefix;o===void 0&&(o="");var i=t.suffix;i===void 0&&(i="");var s=t.allowNegative,l=t.thousandsGroupStyle;if(l===void 0&&(l="thousand"),e===""||e==="-")return e;var u=Ae(t),c=u.thousandSeparator,f=u.decimalSeparator,g=r!==0&&e.indexOf(".")!==-1||r&&a,b=Oe(e,s),m=b.beforeDecimal,d=b.afterDecimal,I=b.addNegation;return r!==void 0&&(d=ht(d,r,!!a)),c&&(m=Qr(m,c,l)),o&&(m=o+m),i&&(d=d+i),I&&(m="-"+m),e=m+(g&&f||"")+d,e}function Ae(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,a=e.allowedDecimalSeparators;return r===!0&&(r=","),a||(a=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:a}}function fa(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),a=new RegExp("(-)(.)*(-)"),o=r.test(e),i=a.test(e);return e=e.replace(/-/g,""),o&&!i&&t&&(e="-"+e),e}function ma(e,t){return new RegExp("(^-)|[0-9]|"+pt(e),"g")}function pa(e,t,r){return e===""?!0:!t?.match(/\d/)&&!r?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function ha(e,t,r){var a;t===void 0&&(t=oa(e));var o=r.allowNegative,i=r.prefix;i===void 0&&(i="");var s=r.suffix;s===void 0&&(s="");var l=r.decimalScale,u=t.from,c=t.to,f=c.start,g=c.end,b=Ae(r),m=b.allowedDecimalSeparators,d=b.decimalSeparator,I=e[g]===d;if(je(e)&&(e===i||e===s)&&t.lastValue==="")return e;if(g-f===1&&m.indexOf(e[f])!==-1){var x=l===0?"":d;e=e.substring(0,f)+x+e.substring(f+1,e.length)}var h=function(C,M,$){var z=!1,V=!1;i.startsWith("-")?z=!1:C.startsWith("--")?(z=!1,V=!0):s.startsWith("-")&&C.length===s.length?z=!1:C[0]==="-"&&(z=!0);var W=z?1:0;return V&&(W=2),W&&(C=C.substring(W),M-=W,$-=W),{value:C,start:M,end:$,hasNegation:z}},w=h(e,f,g),k=w.hasNegation;a=w,e=a.value,f=a.start,g=a.end;var P=h(t.lastValue,u.start,u.end),T=P.start,U=P.end,J=P.value,D=e.substring(f,g);e.length&&J.length&&(T>J.length-s.length||U<i.length)&&!(D&&s.startsWith(D))&&(e=J);var E=0;e.startsWith(i)?E+=i.length:f<i.length&&(E=f),e=e.substring(E),g-=E;var G=e.length,K=e.length-s.length;e.endsWith(s)?G=K:(g>K||g>e.length-s.length)&&(G=g),e=e.substring(0,G),e=fa(k?"-"+e:e,o),e=(e.match(ma(d))||[]).join("");var B=e.indexOf(d);e=e.replace(new RegExp(pt(d),"g"),function(C,M){return M===B?".":""});var Y=Oe(e,o),O=Y.beforeDecimal,H=Y.afterDecimal,y=Y.addNegation;return c.end-c.start<u.end-u.start&&O===""&&I&&!parseFloat(H)&&(e=y?"-":""),e}function ga(e,t){var r=t.prefix;r===void 0&&(r="");var a=t.suffix;a===void 0&&(a="");var o=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";o.fill(!1,0,r.length+(i?1:0));var s=e.length;return o.fill(!1,s-a.length+1,s+1),o}function va(e){var t=Ae(e),r=t.thousandSeparator,a=t.decimalSeparator,o=e.prefix;o===void 0&&(o="");var i=e.allowNegative;if(i===void 0&&(i=!0),r===a)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+a+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function xa(e){e=va(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,a=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=ue);var i=e.onBlur;i===void 0&&(i=ue);var s=e.thousandSeparator,l=e.decimalScale,u=e.fixedDecimalScale,c=e.prefix;c===void 0&&(c="");var f=e.defaultValue,g=e.value,b=e.valueIsNumericString,m=e.onValueChange,d=ft(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),I=Ae(e),x=I.decimalSeparator,h=I.allowedDecimalSeparators,w=function(y){return Qe(y,e)},k=function(y,C){return ha(y,C,e)},P=xe(g)?f:g,T=b??pa(P,c,t);xe(g)?xe(f)||(T=T||typeof f=="number"):T=T||typeof g=="number";var U=function(y){return mt(y)?y:(typeof y=="number"&&(y=gt(y)),T&&typeof l=="number"?Xe(y,l,!!u):y)},J=xt(U(g),U(f),!!T,w,k,m),D=J[0],E=D.numAsString,G=D.formattedValue,K=J[1],B=function(y){var C=y.target,M=y.key,$=C.selectionStart,z=C.selectionEnd,V=C.value;if(V===void 0&&(V=""),(M==="Backspace"||M==="Delete")&&z<c.length){y.preventDefault();return}if($!==z){o(y);return}M==="Backspace"&&V[0]==="-"&&$===c.length+1&&r&&he(C,1),l&&u&&(M==="Backspace"&&V[$-1]===x?(he(C,$-1),y.preventDefault()):M==="Delete"&&V[$]===x&&y.preventDefault()),h?.includes(M)&&V[$]===x&&he(C,$+1);var W=s===!0?",":s;M==="Backspace"&&V[$-1]===W&&he(C,$-1),M==="Delete"&&V[$]===W&&he(C,$+1),o(y)},Y=function(y){var C=E;if(C.match(/\d/g)||(C=""),a||(C=ta(C)),u&&l&&(C=Xe(C,l,u)),C!==E){var M=Qe(C,e);K({formattedValue:M,value:C,floatValue:parseFloat(C)},{event:y,source:we.event})}i(y)},O=function(y){return y===x?!0:je(y)},H=function(y){var C=y.currentValue,M=y.lastValue,$=y.formattedValue,z=y.currentValueIndex,V=y.formattedValueIndex,W=C[z],ie=$[V],be=vt(M,C),_=be.to,X=function(Pe){return k(Pe).indexOf(".")+c.length};return g===0&&u&&l&&C[_.start]===x&&X(C)<z&&X($)>V?!1:z>=_.start&&z<_.end&&h&&h.includes(W)&&ie===x?!0:W===ie};return Object.assign(Object.assign({},d),{value:G,valueIsNumericString:!1,isValidInputCharacter:O,isCharacterSame:H,onValueChange:K,format:w,removeFormatting:k,getCaretBoundary:function(y){return ga(y,e)},onKeyDown:B,onBlur:Y})}function ya(e){var t=xa(e);return ge.createElement(da,Object.assign({},t))}function yt({color:e,size:t,variant:r,sx:a}){const o=ye(),i=Vt(o,e||"primary"),{main:s}=i;return n.jsx(fe,{sx:{width:t||8,height:t||8,borderRadius:"50%",...r==="outlined"?{border:`1px solid ${s}`}:{bgcolor:s},...a}})}yt.propTypes={color:q.any,size:q.number,variant:q.string,sx:q.any};function bt({status:e}){let t,r;switch(e){case"PENDING":t="warning",r="Pending";break;case"SUCCESS":case"COMPLETE":t="success",r="Success";break;case"FAILED":t="error",r="Failed";break;default:t="primary",r=e||"Unknown"}return n.jsxs(de,{direction:"row",sx:{gap:1,alignItems:"center"},children:[n.jsx(yt,{color:t}),n.jsx(N,{children:r})]})}const ba=[{id:"tracking_no",align:"left",disablePadding:!1,label:"Transaction ID"},{id:"name",align:"left",disablePadding:!0,label:"Type"},{id:"fat",align:"right",disablePadding:!1,label:"Amount"},{id:"carbs",align:"left",disablePadding:!1,label:"Status"},{id:"protein",align:"right",disablePadding:!1,label:"Total"}];function St({order:e,orderBy:t}){return n.jsx(Ht,{children:n.jsx(Be,{children:ba.map(r=>n.jsx(pe,{align:r.align,padding:r.disablePadding?"none":"normal",sortDirection:t===r.id?e:!1,children:r.label},r.id))})})}function Ct({transactions:e=[]}){return n.jsx(fe,{children:n.jsx(Kr,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:n.jsxs(Wt,{"aria-labelledby":"tableTitle",children:[n.jsx(St,{order:"asc",orderBy:"tracking_no"}),n.jsx(Yt,{children:e.length===0?n.jsx(Be,{children:n.jsx(pe,{colSpan:5,align:"center",children:n.jsx(N,{variant:"body2",color:"text.secondary",children:"No recent transactions"})})}):e.slice(0,10).map((a,o)=>{const i=`enhanced-table-checkbox-${o}`;return n.jsxs(Be,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},tabIndex:-1,children:[n.jsx(pe,{component:"th",id:i,scope:"row",children:n.jsx(er,{color:"secondary",children:a.external_id||a.id||"N/A"})}),n.jsx(pe,{children:a.source_of_funds||"N/A"}),n.jsx(pe,{align:"right",children:a.currency||"USD"}),n.jsx(pe,{children:n.jsx(bt,{status:a.transaction_status||"PENDING"})}),n.jsx(pe,{align:"right",children:n.jsx(ya,{value:a.amount||0,displayType:"text",thousandSeparator:!0,prefix:a.currency==="USD"?"$":""})})]},a.id||o)})})]})})})}St.propTypes={order:q.any,orderBy:q.string};bt.propTypes={status:q.string};Ct.propTypes={transactions:q.array};const Sa={width:36,height:36,fontSize:"1rem"};function Ma(){const{api:e}=Et(),[t,r]=S.useState(null),[a,o]=S.useState([]),[i,s]=S.useState(!0);S.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const[x,h]=await Promise.all([e.get("/api/dashboard/summary"),e.get("/api/dashboard/transactions",{params:{page:1,limit:50}})]),w=x.data?.summary||{};r(w);const k=h.data?.transactions||[];o(qt(k))}catch(x){console.error(x)}finally{s(!1)}};if(i)return n.jsx(fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:n.jsx(N,{children:"Loading..."})});const u=t?.total_transactions??0,c=t?.completed_transactions??0,f=t?.failed_transactions??0,g=t?.pending_transactions??0,b=t?.total_amount_collected??0,m=t?.total_usdt_balance??0,d=u>0?(c/u*100).toFixed(1):0,I=a.filter(x=>{const h=new Date(x.date_added*1e3),w=new Date,k=new Date(w.getTime()-10080*60*1e3);return h>=k&&(x.transaction_status==="SUCCESS"||x.transaction_status==="COMPLETED")}).reduce((x,h)=>x+(h.amount||0),0);return n.jsxs(A,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[n.jsx(A,{size:12,children:n.jsx(N,{variant:"h5",children:"Dashboard"})}),n.jsx(A,{size:{xs:12,sm:6,md:4,lg:3},children:n.jsx(Me,{title:"Total Collected (USDT)",count:`$${Number(b).toLocaleString()}`,extra:`${c} completed`})}),n.jsx(A,{size:{xs:12,sm:6,md:4,lg:3},children:n.jsx(Me,{title:"Total Transactions",count:String(u),extra:String(g)})}),n.jsx(A,{size:{xs:12,sm:6,md:4,lg:3},children:n.jsx(Me,{title:"Pending",count:String(g),isLoss:!0,color:"warning",extra:String(f)})}),n.jsx(A,{size:{xs:12,sm:6,md:4,lg:3},children:n.jsx(Me,{title:"Success Rate",count:`${d}%`,isLoss:parseFloat(d)<90,color:parseFloat(d)>=90?"success":"warning",extra:`Balance: $${Number(m).toLocaleString()}`})}),n.jsx(A,{size:{xs:12,md:7,lg:8},children:n.jsx(ct,{transactions:a})}),n.jsxs(A,{size:{xs:12,md:5,lg:4},children:[n.jsx(A,{container:!0,alignItems:"center",justifyContent:"space-between",children:n.jsx(A,{children:n.jsx(N,{variant:"h5",children:"This Week"})})}),n.jsxs(ve,{sx:{mt:2},content:!1,children:[n.jsx(fe,{sx:{p:3,pb:0},children:n.jsxs(de,{sx:{gap:2},children:[n.jsx(N,{variant:"h6",color:"text.secondary",children:"Weekly volume (USDT)"}),n.jsxs(N,{variant:"h3",children:["$",I.toLocaleString()]})]})}),n.jsx(ot,{transactions:a})]})]}),n.jsxs(A,{size:{xs:12,md:7,lg:8},children:[n.jsx(A,{container:!0,alignItems:"center",justifyContent:"space-between",children:n.jsx(A,{children:n.jsx(N,{variant:"h5",children:"Recent Transactions"})})}),n.jsx(ve,{sx:{mt:2},content:!1,children:n.jsx(Ct,{transactions:a})})]}),n.jsxs(A,{size:{xs:12,md:5,lg:4},children:[n.jsx(A,{container:!0,alignItems:"center",justifyContent:"space-between",children:n.jsx(A,{children:n.jsx(N,{variant:"h5",children:"Summary"})})}),n.jsxs(ve,{sx:{mt:2},content:!1,children:[n.jsxs(We,{sx:{p:0,"& .MuiListItemButton-root":{py:2}},children:[n.jsxs(ke,{divider:!0,children:[n.jsx(Te,{primary:"Total Volume (USDT)"}),n.jsxs(N,{variant:"h5",children:["$",Number(b).toLocaleString()]})]}),n.jsxs(ke,{divider:!0,children:[n.jsx(Te,{primary:"Success Rate"}),n.jsxs(N,{variant:"h5",children:[d,"%"]})]}),n.jsxs(ke,{children:[n.jsx(Te,{primary:"Failed"}),n.jsx(N,{variant:"h5",color:f>10?"error.main":"success.main",children:f})]})]}),n.jsx(st,{transactions:a})]})]}),n.jsx(A,{size:{xs:12,md:7,lg:8},children:n.jsx(dt,{transactions:a})}),n.jsxs(A,{size:{xs:12,md:5,lg:4},children:[n.jsx(A,{container:!0,alignItems:"center",justifyContent:"space-between",children:n.jsx(A,{children:n.jsx(N,{variant:"h5",children:"Recent"})})}),n.jsx(ve,{sx:{mt:2},content:!1,children:n.jsx(We,{sx:{px:0,py:0,"& .MuiListItemButton-root":{py:1.5,px:2,"& .MuiAvatar-root":Sa}},children:a.slice(0,3).map((x,h)=>{const w=[$t,_t,Ot],k=["success","primary","error"],P=w[h%3],T=k[h%3];return n.jsxs(cr,{component:ke,divider:h<2,secondaryAction:n.jsxs(de,{sx:{alignItems:"flex-end"},children:[n.jsxs(N,{variant:"subtitle1",noWrap:!0,children:["$",Number(x.amount||0).toLocaleString()]}),n.jsx(N,{variant:"h6",color:"secondary",noWrap:!0,children:x.transaction_status})]}),children:[n.jsx(mr,{children:n.jsx(Bt,{sx:{color:`${T}.main`,bgcolor:`${T}.lighter`},children:n.jsx(P,{})})}),n.jsx(Te,{primary:n.jsxs(N,{variant:"subtitle1",children:["#",x.merchant_deposit_id||x.id]}),secondary:x.created_at?new Date(x.created_at).toLocaleString():"N/A"})]},x.id||h)})})})]})]})}export{Ma as default};
//# sourceMappingURL=default-BIePtkpy.js.map
